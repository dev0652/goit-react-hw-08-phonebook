"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[307],{2307:function(n,e,t){t.r(e),t.d(e,{default:function(){return te}});var r,o,i,a,c,d=t(9439),l=t(2791),s=t(9434),u=t(781),h=t(9677),f=t(3433),x=t(2286),g=t(168),p=t(7924),m=p.zo.ul(r||(r=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  overflow-y: auto;\n  padding-right: 20px;\n"]))),v=p.zo.li(o||(o=(0,g.Z)(["\n  width: 100%;\n  display: flex;\n"]))),b=(p.zo.div(i||(i=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 3px;\n"]))),p.zo.p(a||(a=(0,g.Z)([""]))),p.zo.a(c||(c=(0,g.Z)(["\n  flex-grow: 1;\n  color: black;\n  font-size: 1.1rem;\n  text-decoration: none;\n  padding: 10px 20px;\n  border-radius: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n\n  &:hover,\n  &:focus {\n    color: ",";\n    background-color: #4285f4;\n    font-weight: 500;\n  }\n"])),(function(n){return n.theme.borderRadius}),(function(n){return n.theme.colors.highlightedText}))),z=t(1816),j=t(3329);function w(){var n=(0,s.I0)(),e=(0,s.v9)(x.hF),t=(0,f.Z)(e).sort((function(n,e){return n.name.localeCompare(e.name)})),r=function(e){e.preventDefault(),n((0,z.f)(e.target.id))};return(0,j.jsx)(m,{children:t.map((function(n){var e=n.id,t=n.name;n.phone;return(0,j.jsx)(v,{children:(0,j.jsx)(b,{href:"",onClick:r,id:e,children:t})},e)}))})}var Z,y=t(1273),k=t(1448),C=(0,p.zo)(k.nv)(Z||(Z=(0,g.Z)(["\n  width: 100%;\n"])));function A(){var n=(0,s.v9)(x.Af).items,e=(0,s.v9)(x.AD),t=(0,s.I0)();(0,l.useEffect)((function(){var e=document.querySelector("#searchBox");e&&(0===n.length&&e.setAttribute("disabled",""),n.length>0&&e.removeAttribute("disabled"))}),[n.length]);return(0,j.jsx)(C,{type:"text",value:e,onChange:function(n){var e=n.target.value.toLowerCase().trim();t((0,y.a)(e))},placeholder:0===n.length?"Phonebook is empty":1===n.length?"Not enough contacts to search in":"Search ".concat(n.length," contacts"),id:"searchBox"})}var S,T,E,N,I=t(1213),_=p.zo.div(S||(S=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n  /* color: IndianRed; */\n  color: silver;\n\n  margin-top: 20vh;\n"]))),L=p.zo.div(T||(T=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),P=(0,p.zo)(I.toq)(E||(E=(0,g.Z)(["\n  --size: 5rem;\n  height: var(--size);\n  width: var(--size);\n"]))),q=p.zo.p(N||(N=(0,g.Z)(["\n  font-size: 1.5rem;\n  text-align: center;\n"])));function V(){return(0,j.jsxs)(_,{children:[(0,j.jsx)(P,{}),(0,j.jsxs)(L,{children:[(0,j.jsx)(q,{children:"Something went wrong"}),(0,j.jsx)(q,{children:"Try reloading the page or check back later"})]})]})}var M,R,W=t(4164),D=p.ZP.div(M||(M=(0,g.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n  cursor: cell;\n"]))),B=p.ZP.div(R||(R=(0,g.Z)(["\n  cursor: auto;\n\n  width: 300px;\n  /* background-color: #fff; */\n  padding: 60px;\n  padding-top: 40px;\n  align-self: flex-start;\n  margin-top: 20vh;\n\n  border-radius: ",";\n\n  --background-fallback: rgb(245, 245, 245);\n  --gradient-start-color: rgba(240, 248, 255, 1);\n  --gradient-end-color: rgba(245, 245, 245, 1);\n\n  background: var(--background-fallback);\n  background: linear-gradient(\n    0deg,\n    var(--gradient-start-color) 55%,\n    var(--gradient-end-color) 100%\n  );\n"])),(function(n){return n.theme.borderRadius})),F=document.querySelector("#modal-root");function H(n){var e=n.onClose,t=n.children;(0,l.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));return(0,W.createPortal)((0,j.jsx)(D,{onClick:function(n){n.target===n.currentTarget&&e()},children:(0,j.jsx)(B,{children:t})}),F)}var K,O,Y,G,J,$,Q,U,X,nn,en,tn,rn,on,an,cn,dn,ln,sn,un,hn,fn=t(645),xn=t(8617),gn=document.querySelector(".header").getBoundingClientRect().height,pn="".concat(gn,"px"),mn=p.zo.div(K||(K=(0,g.Z)(["\n  display: flex;\n  height: calc(100vh - ",");\n"])),pn),vn=p.zo.div(O||(O=(0,g.Z)(["\n  padding: 25px;\n  padding-top: 50px;\n  max-width: 400px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n  flex-grow: 1;\n\n  --background-fallback: rgb(245, 245, 245);\n  --gradient-start-color: rgba(240, 248, 255, 1);\n  --gradient-end-color: rgba(245, 245, 245, 1);\n\n  background: var(--background-fallback);\n  background: linear-gradient(\n    0deg,\n    var(--gradient-start-color) 55%,\n    var(--gradient-end-color) 100%\n  );\n\n  /* background: linear-gradient(105.62deg, #524abe -7.88%, #6684ff 100%); */\n"]))),bn=p.zo.div(Y||(Y=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 25px;\n  padding-top: 50px;\n  flex-grow: 1;\n"]))),zn=p.zo.div(G||(G=(0,g.Z)(["\n  display: flex;\n  /* flex-direction: column; */\n  gap: 10px;\n"]))),jn=(0,p.zo)(fn.Or)(J||(J=(0,g.Z)(["\n  --size: 40px;\n"]))),wn=(0,p.zo)(fn.Or)($||($=(0,g.Z)(["\n  --size: 40px;\n"]))),Zn=(0,p.zo)(xn.b9W)(Q||(Q=(0,g.Z)(["\n  --size: 70%;\n  height: var(--size);\n  width: var(--size);\n"]))),yn=(0,p.zo)(xn.ilJ)(U||(U=(0,g.Z)(["\n  --size: 70%;\n  height: var(--size);\n  width: var(--size);\n"]))),kn=p.zo.div(X||(X=(0,g.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),Cn=t(3634),An=t(58),Sn=t(9126),Tn=p.zo.div(nn||(nn=(0,g.Z)(["\n  border-radius: ",";\n\n  padding: 20px 30px;\n  flex-grow: 1;\n  max-width: 400px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"])),(function(n){return n.theme.borderRadius})),En=p.zo.div(en||(en=(0,g.Z)(["\n  border-radius: ",";\n  overflow: hidden;\n  width: 200px;\n\n  box-shadow: ",";\n"])),(function(n){return n.theme.borderRadius}),(function(n){return n.theme.boxShadow})),Nn=p.zo.img(tn||(tn=(0,g.Z)(["\n  object-position: center;\n  object-fit: cover;\n"]))),In=p.zo.div(rn||(rn=(0,g.Z)(["\n  font-size: 1.5rem;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),_n=p.zo.p(on||(on=(0,g.Z)(["\n  font-size: 2rem;\n  font-weight: 600;\n"]))),Ln=(0,p.zo)(An.t)(an||(an=(0,g.Z)([""]))),Pn=(0,p.zo)(An.t)(cn||(cn=(0,g.Z)([""]))),qn=p.zo.div(dn||(dn=(0,g.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),Vn=(0,p.zo)(fn.Yd)(ln||(ln=(0,g.Z)([""]))),Mn=(0,p.zo)(fn.Yd)(sn||(sn=(0,g.Z)(["\n  &:hover,\n  &:focus {\n    color: whitesmoke;\n    background-color: ",";\n    font-weight: 500;\n  }\n"])),(function(n){return n.theme.colors.warning})),Rn=(0,p.zo)(Sn._y7)(un||(un=(0,g.Z)(["\n  --size: 60%;\n  /* height: var(--size); */\n  width: var(--size);\n"]))),Wn=((0,p.zo)(fn.HL)(hn||(hn=(0,g.Z)(["\n  --size: 40px;\n\n  color: ",";\n\n  &:hover,\n  &:focus {\n    color: ",";\n    background-color: ",";\n    font-weight: 500;\n\n    & > "," {\n      transform: scale(1.1);\n    }\n  }\n"])),(function(n){return n.theme.colors.secondaryText}),(function(n){return n.theme.colors.highlightedText}),(function(n){return n.theme.colors.warning}),Rn),t(5218));function Dn(n){var e=n.formType,t=n.editValues,r=void 0===t?null:t,o=n.toggleModal,i=(0,s.I0)(),a=(0,s.v9)(x.Af),c=a.items,u=a.error,h=function(n,e){var t,r,o,i;"add"===n&&(t="",r="",o="Add contact");"edit"===n&&(t=e.name,r=e.number,o="Save changes");return{initNameValue:t,initNumberValue:r,buttonText:o,operation:i}}(e,r),f=h.initNameValue,g=h.initNumberValue,p=h.buttonText,m=(0,l.useState)(f),v=(0,d.Z)(m,2),b=v[0],z=v[1],w=(0,l.useState)(g),Z=(0,d.Z)(w,2),y=Z[0],C=Z[1],A=function(n){var e=n.currentTarget,t=e.name,r=e.value;switch(t){case"name":z(r);break;case"number":C(r);break;default:return}};return(0,j.jsxs)(k.n5,{onSubmit:function(n){n.preventDefault();var t=function(n,e,t){var r,o,i;"add"===n&&(i=Cn.uK,r=t,o="Contact '".concat(t.name,"' was added"));if("edit"===n){var a=e.id;i=Cn.mP,r={id:a,editedContact:t},o="Changes have been saved"}return{operation:i,operationArgs:r,toastMessage:o}}(e,r,{name:b,number:y}),a=t.operation,d=t.operationArgs,l=t.toastMessage;"add"===e&&Bn(c,b)?Wn.ZP.error("".concat(b," is already a contact")):(console.log("operationArgs before dispatch",d),i(a(d)).then(Wn.ZP.success(l)).catch(Wn.ZP.error(u)),o())},children:[(0,j.jsxs)(k.V$,{children:[(0,j.jsx)(k.nv,{type:"text",name:"name",required:!0,value:b,onChange:A,placeholder:"Name"}),(0,j.jsx)(k.nv,{type:"tel",name:"number",required:!0,value:y,onChange:A,placeholder:"Telephone"})]}),(0,j.jsx)(fn.E5,{type:"submit",children:p})]})}var Bn=function(n,e){return n.find((function(n){return n.name.toLowerCase()===e.toLowerCase()}))};function Fn(){var n=(0,l.useState)(!1),e=(0,d.Z)(n,2),t=e[0],r=e[1],o=function(){return r(!t)},i=(0,s.I0)(),a=(0,s.v9)(x.Af),c=a.items,f=a.currentId,g=c.find((function(n){return n.id===f})),p=g.name,m=g.number,v=u.We.internet.exampleEmail(),b=u.We.image.avatar(),z={name:p,number:m,id:f};return(0,j.jsxs)(Tn,{children:[(0,j.jsx)(En,{children:(0,j.jsx)(Nn,{src:b,alt:p,width:640})}),(0,j.jsxs)(In,{children:[(0,j.jsx)(_n,{children:p}),(0,j.jsx)(Ln,{href:"tel:+".concat(m),children:m}),(0,j.jsx)(Pn,{href:"mailto:".concat(v),children:v})]}),(0,j.jsxs)(qn,{children:[(0,j.jsx)(Vn,{type:"button",onClick:o,children:"Edit"}),(0,j.jsx)(Mn,{type:"button",onClick:function(){return n=f,void i((0,Cn.GK)(n)).then(Wn.Am.success("Contact has been deleted")).catch((function(n){return Wn.Am.error(n.message)}));var n},children:"Delete"})]}),t&&(0,j.jsx)(H,{onClose:o,children:(0,j.jsx)(h.Z,{title:"Edit Contact",children:(0,j.jsx)(Dn,{formType:"edit",editValues:z,toggleModal:o})})})]})}var Hn,Kn,On,Yn,Gn=t(458),Jn=p.zo.div(Hn||(Hn=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n  color: silver;\n\n  margin-top: 20vh;\n"]))),$n=p.zo.div(Kn||(Kn=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Qn=(0,p.zo)(Gn.ttH)(On||(On=(0,g.Z)(["\n  --size: 5rem;\n  height: var(--size);\n  width: var(--size);\n"]))),Un=p.zo.p(Yn||(Yn=(0,g.Z)(["\n  font-size: 1.5rem;\n  text-align: center;\n"])));function Xn(){return(0,j.jsxs)(Jn,{children:[(0,j.jsx)(Qn,{}),(0,j.jsx)($n,{children:(0,j.jsx)(Un,{children:"Select a contact to display here"})})]})}function ne(){var n=(0,s.v9)(x.Af),e=n.items,t=n.isLoading,r=n.error,o=n.currentId,i=(0,l.useState)(!1),a=(0,d.Z)(i,2),c=a[0],f=a[1],g=function(){return f(!c)},p=(0,s.I0)();(0,l.useEffect)((function(){p((0,Cn.yF)())}),[p]);return(0,j.jsxs)(mn,{children:[(0,j.jsxs)(vn,{children:[(0,j.jsxs)(kn,{children:[(0,j.jsx)(A,{}),(0,j.jsxs)(zn,{children:[(0,j.jsx)(jn,{type:"button",onClick:g,disabled:r,"aria-label":"New contact",children:(0,j.jsx)(Zn,{})}),(0,j.jsx)(wn,{type:"button",onClick:function(){var n={name:u.We.person.fullName(),number:u.We.phone.number()};p((0,Cn.uK)(n)).then(Wn.Am.success("".concat(n.name," has been added to the phonebook"))).catch((function(n){return Wn.Am.error(n.message)}))},disabled:r,"aria-label":"New random contact (for testing)",children:(0,j.jsx)(yn,{})})]})]}),e.length>0&&(0,j.jsx)(w,{})]}),(0,j.jsxs)(bn,{children:[!t&&r&&(0,j.jsx)(V,{}),!o&&!r&&(0,j.jsx)(Xn,{}),o&&!r&&(0,j.jsx)(Fn,{})]}),c&&(0,j.jsx)(H,{onClose:g,children:(0,j.jsx)(h.Z,{title:"New Contact",children:(0,j.jsx)(Dn,{formType:"add",toggleModal:g})})})]})}var ee=t(6907);function te(){var n=(0,s.v9)(x.Hz).isLoggedIn;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(ee.ql,{children:[(0,j.jsx)("title",{children:"Contacts"}),(0,j.jsx)("meta",{name:"description",content:"My contacts"})]}),n&&(0,j.jsx)(ne,{})]})}}}]);
//# sourceMappingURL=307.23497ac0.chunk.js.map