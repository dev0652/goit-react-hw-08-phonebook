"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[96],{7096:function(n,e,r){r.r(e),r.d(e,{default:function(){return ie}});var t,o,i=r(9439),a=r(2791),c=r(9434),d=r(781),l=r(168),s=r(7924),u=s.zo.div(t||(t=(0,l.Z)(["\n  /* margin-bottom: 10px; */\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),h=s.zo.h2(o||(o=(0,l.Z)(["\n  color: ",";\n"])),(function(n){return n.theme.colors.accentDark})),x=r(3329);function f(n){var e=n.title,r=n.children;return(0,x.jsxs)(u,{children:[(0,x.jsx)(h,{children:e}),r]})}var g,p,m,v,b,z=r(3433),j=r(2286),w=s.zo.ul(g||(g=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  overflow-y: auto;\n  padding-right: 20px;\n"]))),Z=s.zo.li(p||(p=(0,l.Z)(["\n  width: 100%;\n  display: flex;\n"]))),y=(s.zo.div(m||(m=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 3px;\n"]))),s.zo.p(v||(v=(0,l.Z)([""]))),s.zo.a(b||(b=(0,l.Z)(["\n  flex-grow: 1;\n  color: black;\n  font-size: 1.1rem;\n  text-decoration: none;\n  padding: 10px 20px;\n  border-radius: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n\n  &:hover,\n  &:focus {\n    color: ",";\n    background-color: #4285f4;\n    font-weight: 500;\n  }\n"])),(function(n){return n.theme.borderRadius}),(function(n){return n.theme.colors.highlightedText}))),k=r(1816);function C(){var n=(0,c.I0)(),e=(0,c.v9)(j.hF),r=(0,z.Z)(e).sort((function(n,e){return n.name.localeCompare(e.name)})),t=function(e){e.preventDefault(),n((0,k.f)(e.target.id))};return(0,x.jsx)(w,{children:r.map((function(n){var e=n.id,r=n.name;n.phone;return(0,x.jsx)(Z,{children:(0,x.jsx)(y,{href:"",onClick:t,id:e,children:r})},e)}))})}var S,A=r(1273),E=r(1448),P=(0,s.zo)(E.nv)(S||(S=(0,l.Z)(["\n  width: 100%;\n"])));function T(){var n=(0,c.v9)(j.Af).items,e=(0,c.v9)(j.AD),r=(0,c.I0)();(0,a.useEffect)((function(){var e=document.querySelector("#searchBox");e&&(0===n.length&&e.setAttribute("disabled",""),n.length>0&&e.removeAttribute("disabled"))}),[n.length]);return(0,x.jsx)(P,{type:"text",value:e,onChange:function(n){var e=n.target.value.toLowerCase().trim();r((0,A.a)(e))},placeholder:0===n.length?"Phonebook is empty":1===n.length?"Not enough contacts to search in":"Search ".concat(n.length," contacts"),id:"searchBox"})}var I,_,L,N,q=r(1213),R=s.zo.div(I||(I=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n  /* color: IndianRed; */\n  color: silver;\n\n  margin-top: 20vh;\n"]))),D=s.zo.div(_||(_=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),W=(0,s.zo)(q.toq)(L||(L=(0,l.Z)(["\n  --size: 5rem;\n  height: var(--size);\n  width: var(--size);\n"]))),M=s.zo.p(N||(N=(0,l.Z)(["\n  font-size: 1.5rem;\n  text-align: center;\n"])));function B(){return(0,x.jsxs)(R,{children:[(0,x.jsx)(W,{}),(0,x.jsxs)(D,{children:[(0,x.jsx)(M,{children:"Something went wrong"}),(0,x.jsx)(M,{children:"Try reloading the page or check back later"})]})]})}var F,H,K=r(4164),V=s.ZP.div(F||(F=(0,l.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n  cursor: cell;\n"]))),O=s.ZP.div(H||(H=(0,l.Z)(["\n  cursor: auto;\n\n  width: 300px;\n  /* background-color: #fff; */\n  padding: 60px;\n  padding-top: 40px;\n  align-self: flex-start;\n  margin-top: 20vh;\n\n  border-radius: ",";\n\n  --background-fallback: rgb(245, 245, 245);\n  --gradient-start-color: rgba(240, 248, 255, 1);\n  --gradient-end-color: rgba(245, 245, 245, 1);\n\n  background: var(--background-fallback);\n  background: linear-gradient(\n    0deg,\n    var(--gradient-start-color) 55%,\n    var(--gradient-end-color) 100%\n  );\n"])),(function(n){return n.theme.borderRadius})),Y=document.querySelector("#modal-root");function G(n){var e=n.onClose,r=n.children;(0,a.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));return(0,K.createPortal)((0,x.jsx)(V,{onClick:function(n){n.target===n.currentTarget&&e()},children:(0,x.jsx)(O,{children:r})}),Y)}var J,$,Q,U,X,nn,en,rn,tn,on,an,cn,dn,ln,sn,un,hn,xn,fn,gn,pn,mn=r(645),vn=r(8617),bn=document.querySelector(".header").getBoundingClientRect().height,zn="".concat(bn,"px"),jn=s.zo.div(J||(J=(0,l.Z)(["\n  display: flex;\n  /* height: 100vh; */\n  height: calc(100vh - ",");\n"])),zn),wn=s.zo.div($||($=(0,l.Z)(["\n  padding: 25px;\n  max-width: 400px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n  flex-grow: 1;\n\n  --background-fallback: rgb(245, 245, 245);\n  --gradient-start-color: rgba(240, 248, 255, 1);\n  --gradient-end-color: rgba(245, 245, 245, 1);\n\n  background: var(--background-fallback);\n  background: linear-gradient(\n    0deg,\n    var(--gradient-start-color) 55%,\n    var(--gradient-end-color) 100%\n  );\n"]))),Zn=s.zo.div(Q||(Q=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 25px;\n  padding-top: 50px;\n  flex-grow: 1;\n"]))),yn=s.zo.div(U||(U=(0,l.Z)(["\n  display: flex;\n  /* flex-direction: column; */\n  gap: 10px;\n"]))),kn=(0,s.zo)(mn.Or)(X||(X=(0,l.Z)(["\n  --size: 40px;\n"]))),Cn=(0,s.zo)(mn.Or)(nn||(nn=(0,l.Z)(["\n  --size: 40px;\n"]))),Sn=(0,s.zo)(vn.b9W)(en||(en=(0,l.Z)(["\n  --size: 70%;\n  height: var(--size);\n  width: var(--size);\n"]))),An=(0,s.zo)(vn.ilJ)(rn||(rn=(0,l.Z)(["\n  --size: 70%;\n  height: var(--size);\n  width: var(--size);\n"]))),En=s.zo.div(tn||(tn=(0,l.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),Pn=r(3634),Tn=r(58),In=r(9126),_n=s.zo.div(on||(on=(0,l.Z)(["\n  border-radius: ",";\n\n  padding: 20px 30px;\n  flex-grow: 1;\n  max-width: 400px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"])),(function(n){return n.theme.borderRadius})),Ln=s.zo.div(an||(an=(0,l.Z)(["\n  border-radius: ",";\n  overflow: hidden;\n  width: 200px;\n\n  box-shadow: ",";\n"])),(function(n){return n.theme.borderRadius}),(function(n){return n.theme.boxShadow})),Nn=s.zo.img(cn||(cn=(0,l.Z)(["\n  object-position: center;\n  object-fit: cover;\n"]))),qn=s.zo.div(dn||(dn=(0,l.Z)(["\n  font-size: 1.5rem;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),Rn=s.zo.p(ln||(ln=(0,l.Z)(["\n  font-size: 2rem;\n  font-weight: 600;\n"]))),Dn=(0,s.zo)(Tn.t)(sn||(sn=(0,l.Z)([""]))),Wn=(0,s.zo)(Tn.t)(un||(un=(0,l.Z)([""]))),Mn=s.zo.div(hn||(hn=(0,l.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),Bn=(0,s.zo)(mn.Yd)(xn||(xn=(0,l.Z)([""]))),Fn=(0,s.zo)(mn.Yd)(fn||(fn=(0,l.Z)(["\n  &:hover,\n  &:focus {\n    color: whitesmoke;\n    background-color: ",";\n    font-weight: 500;\n  }\n"])),(function(n){return n.theme.colors.warning})),Hn=(0,s.zo)(In._y7)(gn||(gn=(0,l.Z)(["\n  --size: 60%;\n  /* height: var(--size); */\n  width: var(--size);\n"]))),Kn=((0,s.zo)(mn.HL)(pn||(pn=(0,l.Z)(["\n  --size: 40px;\n\n  color: ",";\n\n  &:hover,\n  &:focus {\n    color: ",";\n    background-color: ",";\n    font-weight: 500;\n\n    & > "," {\n      transform: scale(1.1);\n    }\n  }\n"])),(function(n){return n.theme.colors.secondaryText}),(function(n){return n.theme.colors.highlightedText}),(function(n){return n.theme.colors.warning}),Hn),r(5218));function Vn(n){var e,r,t,o,d,l,s=n.formType,u=n.editValues,h=void 0===u?null:u,f=n.toggleModal,g=h.prePopulatedName,p=h.prePopulatedNumber,m=h.id,v=(0,a.useState)(r),b=(0,i.Z)(v,2),z=b[0],w=b[1],Z=(0,a.useState)(t),y=(0,i.Z)(Z,2),k=y[0],C=y[1],S={name:z,number:k},A=(0,c.v9)(j.Af).items,P=(0,c.I0)();"add"===s&&(e="Add contact",r="",t="",d=Pn.uK,l=[S]),"edit"===s&&(e="Save changes",r=g,t=p,d=Pn.mP,l=[m,S]),"add"===s&&(o="Contact '".concat(z,"' was added")),"edit"===s&&(o="Changes have been saved");var T=function(n){return A.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}))},I=function(n){var e=n.currentTarget,r=e.name,t=e.value;switch(r){case"name":w(t);break;case"number":C(t);break;default:return}};return(0,x.jsxs)(E.n5,{onSubmit:function(n){n.preventDefault(),"add"===s&&T(z)?Kn.ZP.error("".concat(z," is already a contact")):(P(d(l)).then(Kn.ZP.success(o)).catch((function(n){return Kn.ZP.error(n.message)})),f())},children:[(0,x.jsxs)(E.V$,{children:[(0,x.jsx)(E.nv,{type:"text",name:"name",required:!0,value:z,onChange:I,placeholder:"Name"}),(0,x.jsx)(E.nv,{type:"tel",name:"number",required:!0,value:k,onChange:I,placeholder:"Telephone"})]}),(0,x.jsx)(mn.E5,{type:"submit",children:e})]})}function On(){var n=(0,a.useState)(!1),e=(0,i.Z)(n,2),r=e[0],t=e[1],o=function(){return t(!r)},l=(0,c.I0)(),s=(0,c.v9)(j.Af),u=s.items,h=s.currentId,g=u.find((function(n){return n.id===h})),p=g.name,m=g.number,v=d.We.internet.exampleEmail(),b=d.We.image.avatar(),z={name:p,number:m,email:v,id:h};return(0,x.jsxs)(_n,{children:[(0,x.jsx)(Ln,{children:(0,x.jsx)(Nn,{src:b,alt:p,width:640})}),(0,x.jsxs)(qn,{children:[(0,x.jsx)(Rn,{children:p}),(0,x.jsx)(Dn,{href:"tel:+".concat(m),children:m}),(0,x.jsx)(Wn,{href:"mailto:".concat(v),children:v})]}),(0,x.jsxs)(Mn,{children:[(0,x.jsx)(Bn,{type:"button",onClick:o,children:"Edit"}),(0,x.jsx)(Fn,{type:"button",onClick:function(){return n=h,void l((0,Pn.GK)(n)).then(Kn.Am.success("Contacts has been deleted")).catch((function(n){return Kn.Am.error(n.message)}));var n},children:"Delete"})]}),r&&(0,x.jsx)(G,{onClose:o,children:(0,x.jsx)(f,{title:"Edit Contact",children:(0,x.jsx)(Vn,{formType:"edit",editValues:z,toggleModal:o})})})]})}var Yn,Gn,Jn,$n,Qn=r(458),Un=s.zo.div(Yn||(Yn=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n  color: silver;\n\n  margin-top: 20vh;\n"]))),Xn=s.zo.div(Gn||(Gn=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),ne=(0,s.zo)(Qn.ttH)(Jn||(Jn=(0,l.Z)(["\n  --size: 5rem;\n  height: var(--size);\n  width: var(--size);\n"]))),ee=s.zo.p($n||($n=(0,l.Z)(["\n  font-size: 1.5rem;\n  text-align: center;\n"])));function re(){return(0,x.jsxs)(Un,{children:[(0,x.jsx)(ne,{}),(0,x.jsx)(Xn,{children:(0,x.jsx)(ee,{children:"Select a contact to display here"})})]})}function te(){var n=(0,c.v9)(j.Af),e=n.items,r=n.isLoading,t=n.error,o=n.currentId,l=(0,a.useState)(!1),s=(0,i.Z)(l,2),u=s[0],h=s[1],g=function(){return h(!u)},p=(0,c.I0)();(0,a.useEffect)((function(){p((0,Pn.yF)())}),[p]);return(0,x.jsxs)(jn,{children:[(0,x.jsxs)(wn,{children:[(0,x.jsx)(f,{title:"Contacts",children:(0,x.jsxs)(En,{children:[(0,x.jsx)(T,{}),(0,x.jsxs)(yn,{children:[(0,x.jsx)(kn,{type:"button",onClick:g,disabled:t,"aria-label":"New contact",children:(0,x.jsx)(Sn,{})}),(0,x.jsx)(Cn,{type:"button",onClick:function(){var n={name:d.We.person.fullName(),number:d.We.phone.number()};p((0,Pn.uK)(n)).then(Kn.Am.success("".concat(n.name," has been added to the phonebook"))).catch((function(n){return Kn.Am.error(n.message)}))},disabled:t,"aria-label":"New random contact (for testing)",children:(0,x.jsx)(An,{})})]})]})}),e.length>0&&(0,x.jsx)(C,{})]}),(0,x.jsxs)(Zn,{children:[!r&&t&&(0,x.jsx)(B,{}),!o&&!t&&(0,x.jsx)(re,{}),o&&(0,x.jsx)(On,{})]}),u&&(0,x.jsx)(G,{onClose:g,children:(0,x.jsx)(f,{title:"New Contact",children:(0,x.jsx)(Vn,{formType:"add",toggleModal:g})})})]})}var oe=r(6907);function ie(){var n=(0,c.v9)(j.Hz).isLoggedIn;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(oe.ql,{children:[(0,x.jsx)("title",{children:"Contacts"}),(0,x.jsx)("meta",{name:"description",content:"My contacts"})]}),n&&(0,x.jsx)(te,{})]})}}}]);
//# sourceMappingURL=96.85ba6e54.chunk.js.map